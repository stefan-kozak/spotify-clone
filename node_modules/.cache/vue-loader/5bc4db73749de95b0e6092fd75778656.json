{"remainingRequest":"C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\src\\components\\SearchComponents\\SearchForm.vue?vue&type=template&id=7403bdfd","dependencies":[{"path":"C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\src\\components\\SearchComponents\\SearchForm.vue","mtime":1625575434812},{"path":"C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1624994109000},{"path":"C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxmb3JtIGFjdGlvbj0iIyIgQHN1Ym1pdC5wcmV2ZW50PSIkX2dldE11c2ljKCkiPg0KICAgICAgPGE+TEVGVDwvYT4NCiAgICAgIDxhPlJJR0hUPC9hPg0KDQogICAgICA8aW5wdXQgdHlwZT0idGV4dCIgIHYtbW9kZWw9InF1ZXJ5IiBwbGFjZWhvbGRlcj0iU2VhcmNoIGZvciBzb25ncywgYXJ0aXN0cywgZ2VucmUiPg0KICAgIDwvZm9ybT4NCg=="},{"version":3,"sources":["C:\\Users\\stefa\\Desktop\\SPA\\spotify-clone\\src\\components\\SearchComponents\\SearchForm.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;MAEX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/stefa/Desktop/SPA/spotify-clone/src/components/SearchComponents/SearchForm.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <form action=\"#\" @submit.prevent=\"$_getMusic()\">\r\n      <a>LEFT</a>\r\n      <a>RIGHT</a>\r\n\r\n      <input type=\"text\"  v-model=\"query\" placeholder=\"Search for songs, artists, genre\">\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\n\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n        query: '',\r\n        tracks: [],\r\n        artists: [],\r\n        }\r\n    },\r\n    methods: {\r\n    $_getMusic(){\r\n      let query = encodeURI(this.query)\r\n\r\n       // GET TOKEN AT URL 'https://accounts.spotify.com/authorize?client_id=60ab2a632f3942debcf22cd7da0c3f81&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F&scope=user-read-private%20user-read-email&response_type=token&state=123'\r\n      let accessToken = 'BQAUZvpnaSVnO_8yrZi-lM_of2OZntx1DCY28P8cXX_rZ837wET6zoh8RusfkFkdFpqj25Esv1w6YTvEbe9XaTxIxr2S3W-F3PpxyT6ya1ZIKPqdR74ScupY4cRNyWqu8cREDJurNAAJp-Kgx3f1XPLLgXcDqxZcairaxvBpSDZrfL3kSK4&token_type=Bearer&expires_in=3600&state=123';\r\n\r\n\r\n      const config = {\r\n        method: 'get',\r\n        url: `https://api.spotify.com/v1/search?q=${query}&type=track%2Cartist`,\r\n        headers: {\r\n          'Authorization': 'Bearer ' + accessToken\r\n        },\r\n    }\r\n\r\n      //let res = axios(config);\r\n      axios.get(config.url, config)\r\n        .then(res => {\r\n\r\n          let allTracks = res.data.tracks.items\r\n\r\n              .filter(track => track.type === 'track')\r\n              .map(track => this.extractTrackData(track))\r\n\r\n              this.$emit('addSearchedTracks', allTracks)\r\n\r\n          \r\n          let allArtists = res.data.artists.items\r\n\r\n              .filter(artist => artist.type === 'artist')\r\n              .map(artist => this.extractArtistsData(artist))\r\n\r\n              this.$emit('addSearchedArtists', allArtists)               \r\n\r\n        })\r\n        // CHECK README IF UNAUTHORIZED\r\n        .catch( error => {\r\n          console.log(error, \"Check readme for authorization\");\r\n        })\r\n    },\r\n    extractTrackData({\r\n      id,\r\n      artist,\r\n      uri: audioUri,\r\n      album,\r\n      name,\r\n      type,\r\n      pop\r\n    }) \r\n    {\r\n        return  { name, id, artist, audioUri, album, type } ;  \r\n    },\r\n\r\n     extractArtistsData({\r\n      id,\r\n      name,\r\n      uri,\r\n      images,\r\n      type,\r\n    }) \r\n    {\r\n        return  { name, id, uri, images, type} ;  \r\n    },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n\r\nform{\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin-bottom: 3em;\r\n  width: 30%;\r\n\r\n  input{\r\n    background: #ffffff url(../../assets/svg/search-icon.svg) no-repeat 5% 45%;\r\n    padding: 1em;\r\n    padding-left: 4em;\r\n\r\n    border-radius: 9999px;\r\n    width: 90%;\r\n    border: none;\r\n    &:focus, &:focus-within, &:focus-visible{\r\n      appearance: none;\r\n      outline: none;\r\n      border:none\r\n    }\r\n  }\r\n\r\n}\r\n\r\n</style>"]}]}