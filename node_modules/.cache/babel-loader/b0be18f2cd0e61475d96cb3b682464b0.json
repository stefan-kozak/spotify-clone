{"remainingRequest":"/home/stevepc/Documents/spotify-clone/node_modules/babel-loader/lib/index.js!/home/stevepc/Documents/spotify-clone/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/stevepc/Documents/spotify-clone/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/stevepc/Documents/spotify-clone/src/components/SearchComponents/SearchForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/stevepc/Documents/spotify-clone/src/components/SearchComponents/SearchForm.vue","mtime":1626447299264},{"path":"/home/stevepc/Documents/spotify-clone/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stevepc/Documents/spotify-clone/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/stevepc/Documents/spotify-clone/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stevepc/Documents/spotify-clone/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQXJyb3dOYXZpZ2F0aW9uIGZyb20gIi4uL0Nyb3NzQ29tcG9uZW50cy9BcnJvd05hdmlnYXRpb24udnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFycm93TmF2aWdhdGlvbjogQXJyb3dOYXZpZ2F0aW9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6ICIiLAogICAgICB0cmFja3M6IFtdLAogICAgICBhcnRpc3RzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBnZXRNdXNpYzogZnVuY3Rpb24gZ2V0TXVzaWMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcXVlcnkgPSBlbmNvZGVVUkkodGhpcy5xdWVyeSk7IC8vIEdFVCBUT0tFTiBBVCBVUkwgJ2h0dHBzOi8vYWNjb3VudHMuc3BvdGlmeS5jb20vYXV0aG9yaXplP2NsaWVudF9pZD02MGFiMmE2MzJmMzk0MmRlYmNmMjJjZDdkYTBjM2Y4MSZyZWRpcmVjdF91cmk9aHR0cCUzQSUyRiUyRmxvY2FsaG9zdCUzQTgwODAlMkYmc2NvcGU9dXNlci1yZWFkLXByaXZhdGUlMjB1c2VyLXJlYWQtZW1haWwmcmVzcG9uc2VfdHlwZT10b2tlbiZzdGF0ZT0xMjMnCgogICAgICB2YXIgYWNjZXNzVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzVG9rZW4iKTsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHVybDogImh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL3NlYXJjaD9xPSIuY29uY2F0KHF1ZXJ5LCAiJnR5cGU9dHJhY2slMkNhcnRpc3QmbGltaXQ9MSIpLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGFjY2Vzc1Rva2VuCiAgICAgICAgfQogICAgICB9OyAvL2xldCByZXMgPSBheGlvcyhjb25maWcpOwoKICAgICAgYXhpb3MuZ2V0KGNvbmZpZy51cmwsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB2YXIgYWxsVHJhY2tzID0gcmVzLmRhdGEudHJhY2tzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAodHJhY2spIHsKICAgICAgICAgIHJldHVybiB0cmFjay50eXBlID09PSAidHJhY2siOwogICAgICAgIH0pLm1hcChmdW5jdGlvbiAodHJhY2spIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5leHRyYWN0VHJhY2tEYXRhKHRyYWNrKTsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuJGVtaXQoImFkZFNlYXJjaGVkVHJhY2tzIiwgYWxsVHJhY2tzKTsKCiAgICAgICAgdmFyIGFsbEFydGlzdHMgPSByZXMuZGF0YS5hcnRpc3RzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoYXJ0aXN0KSB7CiAgICAgICAgICByZXR1cm4gYXJ0aXN0LnR5cGUgPT09ICJhcnRpc3QiOwogICAgICAgIH0pLm1hcChmdW5jdGlvbiAoYXJ0aXN0KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuZXh0cmFjdEFydGlzdHNEYXRhKGFydGlzdCk7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLiRlbWl0KCJhZGRTZWFyY2hlZEFydGlzdHMiLCBhbGxBcnRpc3RzKTsKICAgICAgfSkgLy8gQ0FUQ0ggSUYgSVQnUyBOT1QgQVVUSE9SSVpFRCBBTkQgQVVUSE9SSVpFIEFHQUlOIFdJVEggQ0xJQ0tJTkcgVEhFIEJVVFRPTgogICAgICAuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCJodHRwczovL2FjY291bnRzLnNwb3RpZnkuY29tL2F1dGhvcml6ZT9jbGllbnRfaWQ9NjBhYjJhNjMyZjM5NDJkZWJjZjIyY2Q3ZGEwYzNmODEmcmVkaXJlY3RfdXJpPWh0dHAlM0ElMkYlMkZsb2NhbGhvc3QlM0E4MDgwJTJGJnNjb3BlPXVzZXItcmVhZC1wcml2YXRlJTIwdXNlci1yZWFkLWVtYWlsJTIwc3RyZWFtaW5nJnJlc3BvbnNlX3R5cGU9dG9rZW4mc3RhdGU9MTIzIik7CiAgICAgIH0pOwogICAgfSwKICAgIGV4dHJhY3RUcmFja0RhdGE6IGZ1bmN0aW9uIGV4dHJhY3RUcmFja0RhdGEoX3JlZikgewogICAgICB2YXIgaWQgPSBfcmVmLmlkLAogICAgICAgICAgYXJ0aXN0ID0gX3JlZi5hcnRpc3QsCiAgICAgICAgICBhdWRpb1VyaSA9IF9yZWYudXJpLAogICAgICAgICAgYWxidW0gPSBfcmVmLmFsYnVtLAogICAgICAgICAgbmFtZSA9IF9yZWYubmFtZSwKICAgICAgICAgIHR5cGUgPSBfcmVmLnR5cGUsCiAgICAgICAgICBwb3B1bGFyaXR5ID0gX3JlZi5wb3B1bGFyaXR5OwogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgaWQ6IGlkLAogICAgICAgIGFydGlzdDogYXJ0aXN0LAogICAgICAgIGF1ZGlvVXJpOiBhdWRpb1VyaSwKICAgICAgICBhbGJ1bTogYWxidW0sCiAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICBwb3B1bGFyaXR5OiBwb3B1bGFyaXR5CiAgICAgIH07CiAgICB9LAogICAgZXh0cmFjdEFydGlzdHNEYXRhOiBmdW5jdGlvbiBleHRyYWN0QXJ0aXN0c0RhdGEoX3JlZjIpIHsKICAgICAgdmFyIGlkID0gX3JlZjIuaWQsCiAgICAgICAgICBuYW1lID0gX3JlZjIubmFtZSwKICAgICAgICAgIHVyaSA9IF9yZWYyLnVyaSwKICAgICAgICAgIGltYWdlcyA9IF9yZWYyLmltYWdlcywKICAgICAgICAgIHR5cGUgPSBfcmVmMi50eXBlLAogICAgICAgICAgcG9wdWxhcml0eSA9IF9yZWYyLnBvcHVsYXJpdHk7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICBpZDogaWQsCiAgICAgICAgdXJpOiB1cmksCiAgICAgICAgaW1hZ2VzOiBpbWFnZXMsCiAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICBwb3B1bGFyaXR5OiBwb3B1bGFyaXR5CiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/stevepc/Documents/spotify-clone/src/components/SearchComponents/SearchForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <form action=\"#\" @submit.prevent=\"getMusic()\">\n    <ArrowNavigation />\n    <input\n      type=\"text\"\n      v-model=\"query\"\n      placeholder=\"Search for songs, artists, genre\"\n    />\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ArrowNavigation from \"../CrossComponents/ArrowNavigation.vue\";\n\nexport default {\n  components: { ArrowNavigation },\n  data() {\n    return {\n      query: \"\",\n      tracks: [],\n      artists: [],\n    };\n  },\n  mounted() {},\n  methods: {\n    getMusic() {\n      let query = encodeURI(this.query);\n\n      // GET TOKEN AT URL 'https://accounts.spotify.com/authorize?client_id=60ab2a632f3942debcf22cd7da0c3f81&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F&scope=user-read-private%20user-read-email&response_type=token&state=123'\n      let accessToken = localStorage.getItem(\"accessToken\");\n\n      const config = {\n        method: \"get\",\n        url: `https://api.spotify.com/v1/search?q=${query}&type=track%2Cartist&limit=1`,\n        headers: {\n          Authorization: \"Bearer \" + accessToken,\n        },\n      };\n\n      //let res = axios(config);\n      axios\n        .get(config.url, config)\n        .then((res) => {\n          console.log(res);\n          let allTracks = res.data.tracks.items\n\n            .filter((track) => track.type === \"track\")\n            .map((track) => this.extractTrackData(track));\n\n          this.$emit(\"addSearchedTracks\", allTracks);\n\n          let allArtists = res.data.artists.items\n\n            .filter((artist) => artist.type === \"artist\")\n            .map((artist) => this.extractArtistsData(artist));\n\n          this.$emit(\"addSearchedArtists\", allArtists);\n        })\n        // CATCH IF IT'S NOT AUTHORIZED AND AUTHORIZE AGAIN WITH CLICKING THE BUTTON\n        .catch(() => {\n          window.location.replace(\n            \"https://accounts.spotify.com/authorize?client_id=60ab2a632f3942debcf22cd7da0c3f81&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F&scope=user-read-private%20user-read-email%20streaming&response_type=token&state=123\"\n          );\n        });\n    },\n    extractTrackData({\n      id,\n      artist,\n      uri: audioUri,\n      album,\n      name,\n      type,\n      popularity,\n    }) {\n      return { name, id, artist, audioUri, album, type, popularity };\n    },\n\n    extractArtistsData({ id, name, uri, images, type, popularity }) {\n      return { name, id, uri, images, type, popularity };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\nform {\n  display: flex;\n  position: fixed;\n  flex-direction: row;\n  align-items: center;\n  padding-top: 0.5em;\n  margin-bottom: 3em;\n  width: 70%;\n  background-color: transparent;\n  z-index: 9999;\n\n  input {\n    background: #ffffff url(../../assets/svg/search-icon.svg) no-repeat 5% 45%;\n    padding: 1em;\n    padding-left: 4em;\n    margin-left: 1em;\n    border-radius: 9999px;\n    width: 30%;\n    border: none;\n    &:focus,\n    &:focus-within,\n    &:focus-visible {\n      appearance: none;\n      outline: none;\n      border: none;\n    }\n  }\n  a {\n    margin: 1em;\n    text-decoration: none;\n    color: #fff;\n  }\n}\n</style>\n"],"sourceRoot":""}]}